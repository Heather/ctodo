@echo off
make -f Makefile.win clean
make -f Makefile.win

echo -----------------------------------------------------------------------------------------------------------
echo   Clean up test stuff
echo -----------------------------------------------------------------------------------------------------------
:: real path for MinGW follows linux 
:: -> %SYSTEMDRIVE%%HOMEPATH%\\todo.db3
:: but we won't hurt it.
rm testdb.db3
rm testout
echo -----------------------------------------------------------------------------------------------------------
echo   Running CToDo Tests
echo -----------------------------------------------------------------------------------------------------------
set todo=todo.exe
%todo% --help
echo -----------------------------------------------------------------------------------------------------------
echo        Initdb
echo -----------------------------------------------------------------------------------------------------------
%todo% initdb --db testdb.db3
echo -----------------------------------------------------------------------------------------------------------
echo        Write
echo -----------------------------------------------------------------------------------------------------------
%todo% I am very long string and there is no mistakes parsing me. My maximum is 255 so Im not 255 --db testdb.db3
%todo% I contain weird symbols alike -+=!@#$%^&*() and there is still no errors --db testdb.db3
%todo% --first I am Chuck Norris --db testdb.db3
%todo% --motivate motivation test --db testdb.db3
%todo% --db testdb.db3
echo -----------------------------------------------------------------------------------------------------------
echo        Swap
echo -----------------------------------------------------------------------------------------------------------
:: TODO --db support
::%todo% swap 2 3
::%todo% --db testdb.db3
echo -----------------------------------------------------------------------------------------------------------
echo        Remove
echo -----------------------------------------------------------------------------------------------------------
:: TODO --db support
::%todo% rm 3
::%todo% --db testdb.db3
echo -----------------------------------------------------------------------------------------------------------
echo        Edit
echo -----------------------------------------------------------------------------------------------------------
:: TODO --db support
::%todo% edit 2 Im new string
::%todo%
echo -----------------------------------------------------------------------------------------------------------
echo        Sync
echo -----------------------------------------------------------------------------------------------------------
::%todo% set git 0 --db testdb.db3
::%todo% set syncfile testout --db testdb.db3
:: TODO --db support
::%todo% sync
echo -----------------------------------------------------------------------------------------------------------
type testout
echo -----------------------------------------------------------------------------------------------------------
echo        tests passed
echo -----------------------------------------------------------------------------------------------------------

pause